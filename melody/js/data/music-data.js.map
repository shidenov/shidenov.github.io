{"version":3,"file":"music-data.js","sources":["music-data.js"],"sourcesContent":["const audioDataSet = [];\nconst audioLoad = (src) => {\n  return new Promise((resolve, reject) => {\n    const audio = new Audio();\n    audioDataSet.push(audio);\n\n    audio.addEventListener(`canplaythrough`, () => {\n      resolve(audio);\n    }, false);\n\n    audio.addEventListener(`error`, () => {\n      reject(`Не удалось загрузить аудио трек: ${src}`);\n    });\n\n    audio.src = src;\n  });\n};\n\nexport default class Music {\n  static loadAudioTracks(data) {\n    const audioUrls = new Set();\n    for (let item of data) {\n      for (let answer of item.answers) {\n        audioUrls.add(answer.src);\n      }\n    }\n\n    const audioTracks = [];\n    audioUrls.forEach((src) => audioTracks.push(audioLoad(src)));\n    return audioTracks;\n  }\n\n  static stopPlayAllTracks() {\n    for (let track of audioDataSet) {\n      track.pause();\n      track.currentTime = 0;\n    }\n  }\n\n  static getAudioTrack(src) {\n    let audio;\n    Music.stopPlayAllTracks();\n    for (let track of audioDataSet) {\n      if (track.src === src) {\n        audio = track;\n      }\n    }\n    return audio;\n  }\n}\n"],"names":[],"mappings":";;;AAAA,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,SAAS,GAAG,CAAC,GAAG,KAAK;EACzB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;IACtC,MAAM,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;IAC1B,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;IAEzB,KAAK,CAAC,gBAAgB,CAAC,CAAC,cAAc,CAAC,EAAE,MAAM;MAC7C,OAAO,CAAC,KAAK,CAAC,CAAC;KAChB,EAAE,KAAK,CAAC,CAAC;;IAEV,KAAK,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,EAAE,MAAM;MACpC,MAAM,CAAC,CAAC,iCAAiC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;KACnD,CAAC,CAAC;;IAEH,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;GACjB,CAAC,CAAC;CACJ,CAAC;;AAEF,AAAe,MAAM,KAAK,CAAC;EACzB,OAAO,eAAe,CAAC,IAAI,EAAE;IAC3B,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAC;IAC5B,KAAK,IAAI,IAAI,IAAI,IAAI,EAAE;MACrB,KAAK,IAAI,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE;QAC/B,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;OAC3B;KACF;;IAED,MAAM,WAAW,GAAG,EAAE,CAAC;IACvB,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC7D,OAAO,WAAW,CAAC;GACpB;;EAED,OAAO,iBAAiB,GAAG;IACzB,KAAK,IAAI,KAAK,IAAI,YAAY,EAAE;MAC9B,KAAK,CAAC,KAAK,EAAE,CAAC;MACd,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC;KACvB;GACF;;EAED,OAAO,aAAa,CAAC,GAAG,EAAE;IACxB,IAAI,KAAK,CAAC;IACV,KAAK,CAAC,iBAAiB,EAAE,CAAC;IAC1B,KAAK,IAAI,KAAK,IAAI,YAAY,EAAE;MAC9B,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE;QACrB,KAAK,GAAG,KAAK,CAAC;OACf;KACF;IACD,OAAO,KAAK,CAAC;GACd;CACF;;;;;;;;"}