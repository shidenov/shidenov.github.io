{"version":3,"file":"game-artist-view.js","sources":["../abstract-view.js","../data/music-data.js","../welcome-screen/game-welcome-view.js","../welcome-screen/game-welcome.js","../render-screen.js","../data/game-data.js","game-header-view.js","game-genre-view.js","../modal-window/modal-confirm-view.js","game-screen.js","game-model.js","../result-screen/game-result-view.js","../result-screen/game-result.js","../result-screen/game-result-model.js","../modal-window/modal-error-view.js","../data/adapter-data.js","../data/loader-data.js","../application.js","../main.js","game-artist-view.js"],"sourcesContent":["const render = (html) => {\n  const template = document.createElement(`template`);\n  template.innerHTML = html;\n  if (template.content.children.length > 1) {\n    return template.content;\n  }\n  return template.content.firstElementChild;\n};\n\nexport default class AbstractView {\n  constructor() {\n    if (new.target === AbstractView) {\n      throw new Error(`Нельзя просто так взять и cоздать экземпляр класса :)`);\n    }\n  }\n\n  get template() {\n    throw new Error(`Переопредели геттер template!`);\n  }\n\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n\n    this._element = this.render();\n    this.bind(this._element);\n    return this._element;\n  }\n\n  render() {\n    return render(this.template);\n  }\n\n  bind() {\n    // nothing to do\n  }\n}\n\n","const audioDataSet = [];\nconst audioLoad = (src) => {\n  return new Promise((resolve, reject) => {\n    const audio = new Audio();\n    audioDataSet.push(audio);\n\n    audio.addEventListener(`canplaythrough`, () => {\n      resolve(audio);\n    }, false);\n\n    audio.addEventListener(`error`, () => {\n      reject(`Не удалось загрузить аудио трек: ${src}`);\n    });\n\n    audio.src = src;\n  });\n};\n\nexport default class Music {\n  static loadAudioTracks(data) {\n    const audioUrls = new Set();\n    for (let item of data) {\n      for (let answer of item.answers) {\n        audioUrls.add(answer.src);\n      }\n    }\n\n    const audioTracks = [];\n    audioUrls.forEach((src) => audioTracks.push(audioLoad(src)));\n    return audioTracks;\n  }\n\n  static stopPlayAllTracks() {\n    for (let track of audioDataSet) {\n      track.pause();\n      track.currentTime = 0;\n    }\n  }\n\n  static getAudioTrack(src) {\n    let audio;\n    Music.stopPlayAllTracks();\n    for (let track of audioDataSet) {\n      if (track.src === src) {\n        audio = track;\n      }\n    }\n    return audio;\n  }\n}\n","import AbstractView from '../abstract-view';\n\nexport default class WelcomeView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `\n      <section class=\"main main--welcome\">\n        <section class=\"logo\" title=\"Угадай мелодию\">\n          <h1>Угадай мелодию</h1>\n        </section>\n        <button class=\"main-play\">Начать игру</button>\n        <h2 class=\"title main-title\">Правила игры</h2>\n        <p class=\"text main-text\">\n          Правила просты&nbsp;— за&nbsp;5 минут ответить на все вопросы.<br>\n            Ошибиться можно 3 раза.<br>\n              Удачи!\n          </p>\n      </section>\n    `;\n  }\n\n  onClick() { }\n\n  bind() {\n    this.buttonStartElement = this.element.querySelector(`.main-play`);\n    this.buttonStartElement.classList.add(`disable`);\n  }\n}\n","import WelcomeView from './game-welcome-view';\nimport Application from '../application';\n\nexport default class WelcomeScreen {\n  constructor() {\n    this.view = new WelcomeView();\n    this.view.onClick = () => Application.showGame();\n  }\n\n  activeButtonStart() {\n    this.view.buttonStartElement.style.borderLeftColor = ``;\n    this.view.buttonStartElement.classList.remove(`disable`);\n    this.view.buttonStartElement.addEventListener(`click`, this.view.onClick);\n  }\n}\n","const renderScreen = (screen) => {\n  const mainAppWrapElement = document.querySelector(`.main`);\n  mainAppWrapElement.innerHTML = ``;\n  mainAppWrapElement.appendChild(screen);\n};\n\nexport {renderScreen};\n","export const TIMER = 300; // 5 min\n\nexport const GAME = Object.freeze({\n  lives: 2,\n  currentTimer: TIMER,\n  score: 0,\n  currentLevel: 0,\n  nextLevel: 1\n});\n\nexport const QuestionType = {\n  GENRE: `genre`,\n  ARTIST: `artist`\n};\n\nexport const ResultGame = {\n  WIN: `win`,\n  NOLIVES: `noLives`,\n  TIMEOUT: `timeout`\n};\n\nconst Point = {\n  CORRECT_ANSWER: 1,\n  CORRECT_FAST_ANSWER: 2,\n  LIVE: 2\n};\n\nexport const calculateScore = (answers, lives) => {\n  const trueAnswers = answers.filter((item) => item.result !== false);\n  if (answers.length !== 10 || trueAnswers.length < 8) {\n    return -1;\n  }\n\n  const fastAnswers = trueAnswers.filter((item) => item.timer <= 30);\n  const pointAnswers = ((trueAnswers.length - fastAnswers.length) * Point.CORRECT_ANSWER) + (fastAnswers.length * Point.CORRECT_FAST_ANSWER);\n  const pointLives = (GAME.lives > lives) ? (GAME.lives - lives) * Point.LIVE : 0;\n\n  return pointAnswers - pointLives;\n};\n\nexport const calculateResult = (results, currentGame) => {\n  if (currentGame.timer.time <= 0) {\n    return `Время вышло! Вы не успели отгадать все мелодии`;\n  }\n\n  if (currentGame.lives < 0) {\n    return `У вас закончились все попытки. Ничего, повезёт в следующий раз!`;\n  }\n\n  // добавим результат игры в массив\n  results.push(currentGame.score);\n  const sortResults = results.sort((a, b) => b - a);\n  const place = sortResults.indexOf(currentGame.score) + 1; // место которое занял игрок\n  const totalGamers = sortResults.length;\n  const winPercent = ((totalGamers - place) / totalGamers * 100).toFixed(0);\n\n  return `Вы заняли ${place} место из ${sortResults.length}. Это лучше чем у ${winPercent}% игроков`;\n};\n\nexport const createTimer = (time) => {\n  if (typeof time === `undefined`) {\n    throw new Error(`Не указан аргумент`);\n  }\n\n  if (typeof time !== `number`) {\n    throw new Error(`Не верный тип данных, аргументом функции может быть только число`);\n  }\n\n  return {\n    time,\n    tick() {\n      if (this.time !== 0) {\n        this.time = this.time - 1;\n      }\n      this._timeout(this.time);\n    },\n\n    _timeout(currentTime) {\n      if (currentTime === 0) {\n        this.state = `timeout`;\n      }\n    }\n  };\n};\n\nexport const convertText = (number, word, one, many, multi) => {\n  const checkNumber = (num) => {\n    return (num > 21) ? +(num.toString()[1]) : num;\n  };\n\n  number = checkNumber(number);\n  if (number === 1) {\n    return word + one;\n  }\n\n  if (number > 1 && number < 5) {\n    return word + many;\n  }\n  return (number > 1 && number < 5) ? word + many : word + multi;\n};\n\nexport const showTimeResult = (time) => {\n  const {min, sec} = time;\n\n  const minutesText = convertText(+min, `минут`, `у`, `ы`, ``);\n  const secondsText = convertText(+sec, `секунд`, `у`, `ы`, ``);\n  const seconds = (sec[0] === `0`) ? sec[1] : sec;\n  return `${min} ${minutesText} и ${seconds} ${secondsText}`;\n};\n\nexport const timerConverToMinAndSec = (timer) => {\n  const minutes = Math.floor(timer / 60);\n  const seconds = ((timer % 60) / 1).toFixed(0);\n  const convertSeconds = (seconds < 10) ? `0${seconds}` : seconds;\n\n  return {\n    min: minutes.toString(),\n    sec: convertSeconds\n  };\n};\n\nexport const getRadius = (relation, radius) => {\n  const stroke = +(2 * Math.PI * radius).toFixed();\n  const offset = +((1 - relation) * stroke).toFixed();\n  return {stroke, offset};\n};\n","import AbstractView from '../abstract-view';\nimport {getRadius, timerConverToMinAndSec, TIMER} from '../data/game-data';\n\n/* header template */\nexport default class HeaderView extends AbstractView {\n  constructor(state) {\n    super();\n    this.state = state;\n  }\n\n  get template() {\n    const svg = this.getSvgAttrOptions();\n    const timer = this.convertTime();\n\n    return `\n      <a class=\"play-again play-again__wrap\" href=\"#\">\n          <img class=\"play-again__img\" src=\"/img/melody-logo-ginger.png\" alt=\"logo\" width=\"177\" height=\"76\">\n      </a>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"timer\" viewBox=\"0 0 780 780\">\n        <circle cx=\"390\" cy=\"390\" r=\"370\" class=\"timer-line\" stroke-dasharray=\"${svg.stroke}\" stroke-dashoffset=\"${svg.offset}\" style=\"filter: url(.#blur); transform: rotate(-90deg) scaleY(-1); transform-origin: center\"></circle>\n        <div class=\"timer-value\" xmlns=\"http://www.w3.org/1999/xhtml\">\n          <span class=\"timer-value-mins\">${timer.min}</span><!--\n        --><span class=\"timer-value-dots\">:</span><!--\n        --><span class=\"timer-value-secs\">${timer.sec}</span>\n        </div>\n      </svg>\n      <div class=\"main-mistakes\">\n        ${new Array((this.state.lives - 2) * -1).fill(`<img class=\"main-mistake\" src=\"img/wrong-answer.png\" width=\"35\" height=\"49\">`).join(``)}\n      </div>\n    `;\n  }\n\n  onClick() { }\n\n  bind() {\n    this.minElement = this.element.querySelector(`.timer-value-mins`);\n    this.secElement = this.element.querySelector(`.timer-value-secs`);\n    this.circleElement = this.element.querySelector(`circle`);\n    this.timerElement = this.element.querySelector(`.timer-value`);\n    const playAgainButton = this.element.querySelector(`.play-again`);\n    playAgainButton.addEventListener(`click`, this.onClick);\n  }\n\n  // публичный метод, используется в game-screen\n  convertTime() {\n    return timerConverToMinAndSec(this.state.timer.time);\n  }\n\n  // публичный метод, используется в game-screen\n  getSvgAttrOptions() {\n    const timerRelation = this.state.timer.time / TIMER;\n    return getRadius(timerRelation, 370);\n  }\n}\n","import AbstractView from '../abstract-view';\nimport Music from '../data/music-data';\nimport {development} from '../main';\n\nexport default class GenreView extends AbstractView {\n  constructor(game) {\n    super();\n    this.game = game;\n  }\n\n  get template() {\n    const answersTemplate = [];\n    this.game.answers.forEach((answer, i) => {\n      const status = (development) ? `<span style=\"color: black\">${answer.result()}</span>` : ``;\n      const item = `\n      <div class=\"genre-answer\">\n        <div class=\"player-wrapper\">\n          <div class=\"player\">\n            <button class=\"player-control player-control--play\"></button>\n            <div class=\"player-track\">\n              <span class=\"player-status\"></span>\n            </div>\n          </div>\n        </div>\n        <input type=\"checkbox\" name=\"answer\" value=\"answer-${i}\" id=\"a-${i}\">\n        <label class=\"genre-answer-check\" for=\"a-${i}\">${status}</label>\n      </div>\n      `;\n\n      item.trim();\n      answersTemplate.push(item);\n    });\n\n    return `\n      <section class=\"main main--level main--level-${this.game.gameType}\">\n        <div class=\"main-wrap\">\n          <h2 class=\"title\">${this.game.title}</h2>\n          <form class=\"genre\">\n            ${answersTemplate.join(``)}\n            <button class=\"genre-answer-send\" type=\"submit\">Ответить</button>\n          </form>\n        </div>\n      </section>\n    `;\n  }\n\n  onResult() { }\n\n  bind() {\n    const playerElements = this.element.querySelectorAll(`.player`);\n    const audioTracks = [];\n\n    this.game.answers.forEach((answer, i) => {\n      const track = Music.getAudioTrack(answer.src);\n      audioTracks.push(track);\n      const buttonControlElement = playerElements[i].querySelector(`.player-control`);\n\n      if (i === 0) {\n        buttonControlElement.classList.remove(`player-control--play`);\n        buttonControlElement.classList.add(`player-control--pause`);\n      }\n\n      buttonControlElement.addEventListener(`click`, (event) => {\n        const e = event || window.event;\n        const target = e.target || e.srcElement;\n\n        // отключать все треки и включать выбранный\n        audioTracks.forEach((audio) => audio.pause());\n        // добавить всем кнопкам класс play\n        for (let player of playerElements) {\n          const control = player.querySelector(`.player-control`);\n          if (target !== control) {\n            control.classList.remove(`player-control--pause`);\n            control.classList.add(`player-control--play`);\n          }\n        }\n\n        if ([...target.classList].indexOf(`player-control--pause`) !== -1) {\n          target.classList.remove(`player-control--pause`);\n          target.classList.add(`player-control--play`);\n          track.pause();\n        } else {\n          target.classList.remove(`player-control--play`);\n          target.classList.add(`player-control--pause`);\n          track.play();\n        }\n\n        e.preventDefault();\n      });\n    });\n\n    audioTracks[0].play();\n\n    const submitButtonElement = this.element.querySelector(`.genre-answer-send`);\n    submitButtonElement.disabled = true;\n\n    const resultAnswers = {};\n    const answerItems = [...this.element.querySelectorAll(`.genre-answer-check`)];\n\n    for (let item of answerItems) {\n      item.addEventListener(`click`, (event) => {\n        const e = event || window.event;\n        const target = e.target || e.srcElement;\n\n        const currentAnswerIndex = target.control.value.slice(target.control.value.length - 1, target.control.value.length);\n        const result = this.game.answers[currentAnswerIndex].result();\n\n        if (!target.control.checked) {\n          resultAnswers[currentAnswerIndex] = result;\n        } else {\n          delete resultAnswers[currentAnswerIndex];\n        }\n\n        submitButtonElement.disabled = Object.keys(resultAnswers).length === 0;\n      });\n    }\n\n    submitButtonElement.addEventListener(`click`, (e) => {\n      e.preventDefault();\n      for (let key in resultAnswers) {\n        if (!resultAnswers[key]) {\n          return this.onResult(false);\n        }\n      }\n\n      if (Object.keys(resultAnswers).length !== this.game.correct.length) {\n        return this.onResult(false);\n      }\n\n      return this.onResult(true);\n    });\n  }\n}\n","import AbstractView from \"../abstract-view\";\n\nexport default class ModalConfirmView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `\n      <section class=\"modal-confirm modal-confirm__wrap\">\n      <form class=\"modal-confirm__inner\">\n        <button class=\"modal-confirm__close\" type=\"button\">Закрыть</button>\n        <h2 class=\"modal-confirm__title\">Подтверждение</h2>\n        <p class=\"modal-confirm__text\">Вы уверены что хотите начать игру заново?</p>\n        <div class=\"modal-confirm__btn-wrap\">\n          <button class=\"modal-confirm__btn\">Ок</button>\n          <button class=\"modal-confirm__btn\">Отмена</button>\n        </div>\n      </form>\n    </section>\n  `;\n  }\n\n  onClickOk() { }\n\n  onClickCancel() { }\n\n  bind() {\n    const buttonOk = this.element.querySelector(`.modal-confirm__btn-wrap`).children[0];\n    const buttonCancel = this.element.querySelector(`.modal-confirm__btn-wrap`).children[1];\n    const buttonClose = this.element.querySelector(`.modal-confirm__close`);\n\n    buttonOk.addEventListener(`click`, this.onClickOk);\n    buttonCancel.addEventListener(`click`, this.onClickCancel);\n    buttonClose.addEventListener(`click`, this.onClickCancel);\n  }\n}\n","/* Модуль: Игра на выбор исполнителя */\nimport {renderScreen} from '../render-screen';\nimport Application from '../application';\nimport HeaderView from './game-header-view';\nimport ArtistView from './game-artist-view';\nimport GenreView from './game-genre-view';\nimport ModalConfirmView from '../modal-window/modal-confirm-view';\nimport Music from '../data/music-data';\nimport {QuestionType, ResultGame} from '../data/game-data';\n\nconst ONE_SECOND = 1000;\n\nexport default class GameScreen {\n  constructor(model) {\n    this.model = model;\n    this.header = null;\n    this.screen = null;\n    this._intervalId = null;\n  }\n\n  startGame() {\n    const currentGameData = this.model.getLevelGameData();\n    this.gameScreen(currentGameData);\n    this._tickTimer();\n    renderScreen(this.screen.element);\n  }\n\n  gameScreen(currentGameData) {\n    this.header = new HeaderView(this.model.gameState);\n    this.modalConfirm = new ModalConfirmView();\n\n    this.modalConfirm.onClickOk = (event) => {\n      const e = event || window.event;\n      this._stopTimer();\n      Music.stopPlayAllTracks();\n      Application.showWelcome();\n      document.body.removeChild(this.modalConfirm.element);\n      e.preventDefault();\n    };\n\n    this.modalConfirm.onClickCancel = (event) => {\n      const e = event || window.event;\n      document.body.removeChild(this.modalConfirm.element);\n      e.preventDefault();\n    };\n\n    this.header.onClick = () => {\n      document.body.appendChild(this.modalConfirm.element);\n    };\n\n    if (currentGameData.gameType === QuestionType.ARTIST) {\n      this.screen = new ArtistView(currentGameData);\n      this.screen.onResult = (result) => this._changeLevel(result, this.model.gameState);\n    }\n\n    if (currentGameData.gameType === QuestionType.GENRE) {\n      this.screen = new GenreView(currentGameData);\n      this.screen.onResult = (result) => this._changeLevel(result, this.model.gameState);\n    }\n\n    this.screen.element.appendChild(this.header.element);\n  }\n\n  _changeLevel(result, game) {\n    Music.stopPlayAllTracks();\n    this.model.gameState = game;\n\n    if (!result) {\n      this.model.lossLive();\n    }\n\n    this._stopTimer();\n    this.model.addResultAnswer(result);\n    this.model.changeCurrentLevel(); // назначаем новый текущий уровнь\n\n    const nextLevelGameData = this.model.getLevelGameData();\n    const noLives = this.model.checkLives();\n\n    if (!nextLevelGameData) {\n      // вывод результатов закончились все уровни\n      this._stopGame(ResultGame.WIN);\n      return;\n    }\n\n    if (noLives) {\n      // вывод результатов закончились жизни\n      this._stopGame(ResultGame.NOLIVES);\n      return;\n    }\n\n    this.model.nextLevel(); // следующий уровень\n\n    this.gameScreen(nextLevelGameData);\n    renderScreen(this.screen.element);\n    this._tickTimer(); // запуск таймера\n  }\n\n  _updateHeader() {\n    const time = this.header.convertTime();\n    this.header.minElement.textContent = time.min;\n    this.header.secElement.textContent = time.sec;\n\n    const svg = this.header.getSvgAttrOptions();\n    this.header.circleElement.setAttribute(`stroke-dashoffset`, svg.offset);\n\n    if (+time.sec <= 30 && +time.sec % 2 === 0 && +time.min === 0) {\n      this.header.timerElement.style.color = `red`;\n    } else {\n      this.header.timerElement.style.color = ``;\n    }\n  }\n\n  _stopGame(status) {\n    this.model.resultGame(status);\n    Application.showResult(this.model.gameState);\n  }\n\n  _tickTimer() {\n    const timeout = this.model.checkTimerStatus();\n    if (timeout) {\n      this._stopTimer();\n      this._stopGame(ResultGame.TIMEOUT);\n      Music.stopPlayAllTracks();\n      return;\n    }\n\n    this._intervalId = setTimeout(() => {\n      this.model.tick();\n      this._tickTimer();\n      this._updateHeader();\n    }, ONE_SECOND);\n  }\n\n  _stopTimer() {\n    clearTimeout(this._intervalId);\n  }\n}\n","import {GAME, createTimer} from '../data/game-data';\n\nexport default class GameModel {\n  constructor(data) {\n    this.data = data;\n    this.newGame();\n  }\n\n  get gameState() {\n    return this._gameState;\n  }\n\n  set gameState(gameState) {\n    this._gameState = Object.assign({}, gameState);\n  }\n\n  newGame() {\n    this._gameState = Object.assign({}, GAME);\n    this._gameState.answers = [];\n    this._gameState.timer = createTimer(this._gameState.currentTimer); // 300\n  }\n\n  resultGame(status) {\n    this._gameState.resultGame = status;\n  }\n\n  lossLive() {\n    this._gameState.lives = this._gameState.lives - 1;\n  }\n\n  nextLevel() {\n    this._gameState.nextLevel = this._gameState.nextLevel + 1;\n  }\n\n  changeCurrentLevel() {\n    this._gameState.currentLevel = this._gameState.nextLevel; // назначаем новый текущий уровнь\n  }\n\n  addResultAnswer(result) {\n    const currentAnswerTime = this._gameState.currentTimer - this._gameState.timer.time;\n    this._gameState.answers.push({result, timer: currentAnswerTime}); // запишим ответ в массив ответов\n    this._gameState.currentTimer = this._gameState.timer.time;\n  }\n\n  getLevelGameData() {\n    const gameData = this.data[this._gameState.currentLevel];\n    return gameData !== undefined ? gameData : false;\n  }\n\n  checkLives() {\n    return this._gameState.lives < 0;\n  }\n\n  checkTimerStatus() {\n    return this._gameState.timer.state === `timeout`;\n  }\n\n  tick() {\n    this._gameState.timer.tick();\n  }\n}\n","import AbstractView from '../abstract-view';\nimport {ResultGame} from '../data/game-data';\n\nconst templates = {\n  [ResultGame.WIN]: (data) => `\n    <section class=\"main main--result\">\n      <section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n      <h2 class=\"title\">Вы настоящий меломан!</h2>\n      <div class=\"main-stat\">${data.time}\n        <br>вы&nbsp;набрали ${data.score} баллов (${data.totalFast} быстрых)\n        <br>совершив ${data.lives}</div>\n      <span class=\"main-comparison\">Подождите, загружаем результаты!</span>\n      <span role=\"button\" tabindex=\"0\" class=\"main-replay\">Сыграть ещё раз</span>\n    </section>`,\n\n  [ResultGame.NOLIVES]: () => `\n    <section class=\"main main--result\">\n      <section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n      <h2 class=\"title\">Какая жалость!</h2>\n      <div class=\"main-stat\">У вас закончились все попытки.<br>Ничего, повезёт в следующий раз!</div>\n      <span role=\"button\" tabindex=\"0\" class=\"main-replay\">Попробовать ещё раз</span>\n    </section>\n    `,\n\n  [ResultGame.TIMEOUT]: () => `\n    <section class=\"main main--result\">\n      <section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n      <h2 class=\"title\">Увы и ах!</h2>\n      <div class=\"main-stat\">Время вышло!<br>Вы не успели отгадать все мелодии</div>\n      <span role=\"button\" tabindex=\"0\" class=\"main-replay\">Попробовать ещё раз</span>\n    </section>\n  `\n};\n\nexport default class ResultView extends AbstractView {\n  constructor(game) {\n    super();\n    this.game = game;\n  }\n\n  get template() {\n    return templates[this.game.status](this.game);\n  }\n\n  onClick() { }\n\n  bind() {\n    const replayButtonElement = this.element.querySelector(`.main-replay`);\n    replayButtonElement.addEventListener(`click`, this.onClick);\n\n    this.scoresElement = this.element.querySelector(`.main-comparison`);\n  }\n}\n","import ResultView from './game-result-view';\nimport Application from '../application';\n\nexport default class ResultScreen {\n  constructor(model) {\n    this.model = model;\n    this.view = new ResultView(this.model.resultState);\n    this.view.onClick = () => Application.showWelcome();\n  }\n\n  getPlayerResult() {\n    return this.model.getPlayerResult();\n  }\n\n  showScores(data) {\n    const scores = this.model.getScores(data);\n    this.view.scoresElement.textContent = scores;\n  }\n}\n","import {\n  ResultGame,\n  calculateResult,\n  calculateScore,\n  timerConverToMinAndSec,\n  showTimeResult,\n  convertText,\n  TIMER\n} from '../data/game-data';\n\nexport default class ResultModel {\n  constructor(gameState) {\n    this._gameState = Object.assign({}, gameState);\n    this._calculateResult();\n  }\n\n  get resultState() {\n    if (this._gameState.resultGame === ResultGame.WIN) {\n      const timer = timerConverToMinAndSec(TIMER - this._gameState.timer.time);\n      const timeText = showTimeResult(timer);\n\n      const lives = (this._gameState.lives - 2) * -1;\n      const livesDeclination = convertText(lives, `ошиб`, `ку`, `ки`, `ок`);\n      const livesText = `${lives} ${livesDeclination}`;\n\n      // вернем данные для view\n      return {\n        lives: livesText,\n        time: timeText,\n        score: this._gameState.score,\n        totalFast: this._gameState.fastAnswers,\n        status: this._gameState.resultGame\n      };\n    }\n    return {\n      status: this._gameState.resultGame\n    };\n  }\n\n  getPlayerResult() {\n    if (this._gameState.resultGame === ResultGame.WIN) {\n      return {\n        date: new Date(),\n        lives: this._gameState.lives,\n        time: this._gameState.currentTimer,\n        score: this._gameState.score,\n        totalfastAnswers: this._gameState.fastAnswers\n      };\n    }\n    return false;\n  }\n\n  getScores(data) {\n    const scores = [];\n    data.forEach((result) => scores.push(result.score));\n    return calculateResult(scores, this._gameState);\n  }\n\n  _calculateResult() {\n    if (this._gameState.resultGame === ResultGame.WIN) {\n      this._gameState.score = calculateScore(this._gameState.answers, this._gameState.lives);\n      this._gameState.fastAnswers = (this._gameState.answers.filter((item) => item.timer <= 30)).length;\n    }\n  }\n}\n","import AbstractView from \"../abstract-view\";\n\nexport default class ModalErrorView extends AbstractView {\n  constructor(error) {\n    super();\n    this.error = error;\n  }\n\n  get template() {\n    const message = this.error.message.split(`, `);\n    return `\n      <section class=\"modal-error modal-error__wrap\">\n        <div class=\"modal-error__inner\">\n          <h2 class=\"modal-error__title\">Произошла ошибка!</h2>\n          <p class=\"modal-error__text\">Статус: ${message[0]} Пожалуйста, перезагрузите страницу.</p>\n        </div>\n      </section>\n    `;\n  }\n}\n","import {QuestionType} from './game-data';\n\nconst getAnswersArtist = (data, item) => {\n  item.answers.forEach((answer) => {\n    const adaptAnswer = {\n      artist: answer.title,\n      image: answer.image.url,\n      name: answer.title,\n      src: item.src\n    };\n\n    if (answer.isCorrect) {\n      adaptAnswer.result = () => true;\n      data.correct.push(adaptAnswer);\n    } else {\n      adaptAnswer.result = () => false;\n    }\n\n    data.answers.push(adaptAnswer);\n  });\n};\n\nconst getGenreArtist = (data, item) => {\n  item.answers.forEach((answer) => {\n    const adaptAnswer = {\n      src: answer.src,\n      genre: answer.genre\n    };\n\n    if (answer.genre === item.genre) {\n      adaptAnswer.result = () => true;\n      data.correct.push(adaptAnswer);\n    } else {\n      adaptAnswer.result = () => false;\n    }\n\n    data.answers.push(adaptAnswer);\n  });\n};\n\nexport const adapterData = (serverData) => {\n  const adaptData = [];\n  serverData.forEach((item) => {\n    const itemData = {\n      gameType: item.type,\n      title: item.question,\n      answers: [],\n      correct: []\n    };\n\n    if (item.type === QuestionType.ARTIST) {\n      getAnswersArtist(itemData, item);\n    }\n\n    if (item.type === QuestionType.GENRE) {\n      getGenreArtist(itemData, item);\n    }\n\n    adaptData.push(itemData);\n  });\n\n  return adaptData;\n};\n","import {adapterData} from './adapter-data';\n\nconst URL = `https://es.dump.academy/guess-melody`;\nconst MY_API_ID = 338829;\n\nconst convertJSON = (response) => response.json();\n\nconst checkStatusResponse = (response) => {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else if (response.status === 404) {\n    return [];\n  }\n  throw new Error(`${response.status}, ${response.statusText}`);\n};\n\nexport default class LoaderApi {\n  static loadQuestions() {\n    return fetch(`${URL}/questions`).then(checkStatusResponse).then(convertJSON).then(adapterData);\n  }\n\n  static loadResults() {\n    return fetch(`${URL}/stats/${MY_API_ID}`).then(checkStatusResponse).then((response) => (response.length !== 0) ? convertJSON(response) : response);\n  }\n\n  static saveResults(data) {\n    data = Object.assign({}, data);\n    const reuqestOptions = {\n      method: `POST`,\n      headers: {\n        'Content-Type': `application/json`\n      },\n      body: JSON.stringify(data)\n    };\n\n    return fetch(`${URL}/stats/${MY_API_ID}`, reuqestOptions).then(checkStatusResponse);\n  }\n}\n","import WelcomeScreen from './welcome-screen/game-welcome';\nimport GameScreen from './game-screen/game-screen';\nimport GameModel from './game-screen/game-model';\nimport ResultScreen from './result-screen/game-result';\nimport ResultModel from './result-screen/game-result-model';\nimport ModalErrorView from './modal-window/modal-error-view';\nimport LoaderApi from './data/loader-data';\nimport Music from './data/music-data';\nimport {renderScreen} from './render-screen';\n\nlet gameData;\nconst welcomeScreen = new WelcomeScreen();\n\nexport default class Application {\n  static start() {\n    LoaderApi.loadQuestions()\n      .then((data) => {\n        gameData = data;\n        Application.showWelcome();\n        return Music.loadAudioTracks(data);\n      })\n      .then((audioTracks) => Promise.all(audioTracks))\n      .then((audioElements) => {\n        audioElements.forEach((track) => {\n          track.pause();\n          track.currentTime = 0;\n        });\n        welcomeScreen.activeButtonStart();\n      })\n      .catch(Application.showError);\n  }\n\n  static showWelcome() {\n    renderScreen(welcomeScreen.view.element);\n  }\n\n  static showGame() {\n    const model = new GameModel(gameData);\n    const gameScreen = new GameScreen(model);\n    gameScreen.startGame();\n  }\n\n  static showResult(gameState) {\n    const model = new ResultModel(gameState);\n    const resultScreen = new ResultScreen(model);\n    renderScreen(resultScreen.view.element);\n\n    const result = resultScreen.getPlayerResult();\n    if (result) {\n      LoaderApi.loadResults()\n        .then((data) => resultScreen.showScores(data))\n        .then(() => LoaderApi.saveResults(result))\n        .catch(Application.showError);\n    }\n  }\n\n  static showError(error) {\n    const modalError = new ModalErrorView(error);\n    document.body.appendChild(modalError.element);\n  }\n}\n","/* Импорт Модулей */\nimport Application from './application';\n\n/* start game */\nexport const development = true;\nApplication.start();\n\nimport './data/game-data';\n","import AbstractView from '../abstract-view';\nimport Music from '../data/music-data';\nimport {development} from '../main';\n\nexport default class ArtistView extends AbstractView {\n  constructor(game) {\n    super();\n    this.game = game;\n  }\n\n  get template() {\n    const answers = [];\n    this.game.answers.forEach((answer, i) => {\n      const status = (development) ? `<span style=\"color: black\">${answer.result()}</span>` : ``;\n      const item = `\n        <div class=\"main-answer-wrapper\">\n          <input class=\"main-answer-r\" type=\"radio\" id=\"answer-${i}\" name=\"answer\" value=\"val-${i}\"/>\n          <label class=\"main-answer\" for=\"answer-${i}\">\n            <img class=\"main-answer-preview\" src=\"${answer.image}\" alt=\"${answer.artist}\" width=\"134\" height=\"134\">\n            ${answer.artist}\n            ${status}\n          </label>\n        </div>\n      `;\n\n      item.trim();\n      answers.push(item);\n    });\n\n    return `\n    <section class=\"main main--level main--level-${this.game.gameType}\">\n      <div class=\"main-wrap\">\n        <h2 class=\"title main-title\">${this.game.title}</h2>\n        <div class=\"player-wrapper\">\n          <div class=\"player\">\n            <button class=\"player-control player-control--pause\"></button>\n            <div class=\"player-track\">\n              <span class=\"player-status\"></span>\n            </div>\n            </div>\n          </div>\n        <form class=\"main-list\">\n        ${answers.join(``)}\n        </form>\n      </div>\n    </section>\n  `;\n  }\n\n  onResult() { }\n\n  bind() {\n    let track;\n    for (let answer of this.game.answers) {\n      if (answer.result()) {\n        track = Music.getAudioTrack(answer.src);\n        track.play();\n      }\n    }\n\n    const buttonControlElement = this.element.querySelector(`.player-control`);\n    buttonControlElement.addEventListener(`click`, (event) => {\n      const e = event || window.event;\n      const target = e.target || e.srcElement;\n\n      track.pause();\n\n      if ([...target.classList].indexOf(`player-control--pause`) !== -1) {\n        target.classList.remove(`player-control--pause`);\n        target.classList.add(`player-control--play`);\n      } else {\n        target.classList.remove(`player-control--play`);\n        target.classList.add(`player-control--pause`);\n        track.play();\n      }\n    });\n\n    const inputElements = this.element.querySelectorAll(`input`);\n    for (let input of inputElements) {\n      input.addEventListener(`click`, (event) => {\n        const e = event || window.event;\n        const target = e.target || e.srcElement;\n\n        const currentAnswerIndex = target.value.slice(target.value.length - 1, target.value.length);\n        const result = this.game.answers[currentAnswerIndex].result();\n\n        this.onResult(result);\n      });\n    }\n  }\n}\n"],"names":[],"mappings":"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"}